//<auto-generated/>
using System;
using System.Linq;
using System.Collections.Generic;
using System.Diagnostics;
using Microsoft.EntityFrameworkCore;
using Microsoft.Extensions.Logging;
using Microsoft.AspNetCore.Mvc;
using TFX.Core.Reflections;
using TFX.Core.Model;
using TFX.Core.Interfaces;
using TFX.Core;
using TFX.Core.Services;
using System.ComponentModel.DataAnnotations;
using Microsoft.AspNetCore.Http;
using TFX.Core.Lzma;
using TFX.Core.Model.FRM;
using TFX.Core.DB;
using TFX.Core.Model.Service;

namespace TFX.Core.Data.Servicos.Menu
{
    public class MenuServiceModel : XServiceModel
    {
        public static Guid CID = new Guid("CA94C52B-3EC3-495C-B034-B3652CED2947");
        public MenuServiceModel()
        {
            SearchPath = "Menu/Search";
            DataView.Columns.Add(new XColumnModel() { Name = "Menu", Title = "Menu", Type = "String" });
            DataView.Columns.Add(new XColumnModel() { Name = "Item", Title = "Item", Type = "String" });
            DataView.Columns.Add(new XColumnModel() { Name = "Icone", Title = "Ícone", Type = "String" });
        }
    }
    public class AppData : XEndPointData
    {
        public XStringDataField AppID {get;set;}
    }

    public class ResultSet : XEndPointData
    {
        public XStringDataField Model {get;set;}
    }

    public class MenuTuple : XServiceDataTuple
    {
        public MenuTuple()
        {
            Initialize();
        }

        public MenuTuple(String pMenu, String pIcone, String pItem, Guid? pCORxMenuItemID, Guid pCORxRecursoID, Guid? pCORxMenuID)
            : this()
        {
            Menu.Value = pMenu;
            Icone.Value = pIcone;
            Item.Value = pItem;
            CORxMenuItemID.Value = pCORxMenuItemID;
            CORxRecursoID.Value = pCORxRecursoID;
            CORxMenuID.Value = pCORxMenuID;
        }

        public override void Initialize()
        {
            Menu = new XStringDataField();
            Icone = new XStringDataField();
            Item = new XStringDataField();
            CORxMenuItemID = new XGuidNullableDataField();
            CORxRecursoID = new XGuidDataField();
            CORxMenuID = new XGuidNullableDataField();
        }

        public XStringDataField Menu {get;set;}
        [Display(Name = "Ícone")]
        public XStringDataField Icone {get;set;}
        public XStringDataField Item {get;set;}
        [Display(Name = "Item de Menu")]
        public XGuidNullableDataField CORxMenuItemID {get;set;}
        [Display(Name = "Recurso")]
        public XGuidDataField CORxRecursoID {get;set;}
        [Display(Name = "Menu")]
        public XGuidNullableDataField CORxMenuID {get;set;}
    }

    public class MenuRequest : XRequest
    {
        public Guid CORxMenuItemID {get;set;}
    }

    public interface IMenuService : XIService
    {

        ResultSet AppModel(AppData pData);

        MenuDataSet Execute();
        IQueryable<MenuTuple> ExecuteQuery();
    }

    public abstract class BaseMenuRule : XServiceRule<MenuTuple, MenuTuple>
    {
        public BaseMenuRule(XService pOwner)
            :base(pOwner)
        {
        }

        public virtual ResultSet AppModel(AppData pData)
        {
            return default;
        }

        public virtual void Execute()
        {
        }
    }

    public class MenuDataSet : XDataSet<MenuTuple>
    {
        public override Guid ID => new Guid("CA94C52B-3EC3-495C-B034-B3652CED2947");
    }
}