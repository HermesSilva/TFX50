//<auto-generated/>
using System;
using System.Linq;
using Microsoft.EntityFrameworkCore;
using Microsoft.AspNetCore.Identity;
using Microsoft.EntityFrameworkCore.Infrastructure;
using TFX.Core;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using TFX.Core.Lzma;
using TFX.Core.Data.DB;

namespace TFX.Core.Access.DB
{
    public class TFXCoreAccessContext : XDBContext
    {
        #region _TAFxUsuario

        public class _TAFxUsuario
        {
            public class XDefault
            {
                private static Dictionary<Guid, _TAFxUsuario> _SeedData = new Dictionary<Guid, _TAFxUsuario>()
                {
                    [new Guid("00000000-0000-0000-0000-000000000000")] = new _TAFxUsuario { TAFxUsuarioID = new Guid("00000000-0000-0000-0000-000000000000"), Login = @"Administrador" },
                    [new Guid("00000000-0000-0000-0000-000000000000")] = new _TAFxUsuario { TAFxUsuarioID = new Guid("00000000-0000-0000-0000-000000000000"), Login = @"NA" }
                };
                public static _TAFxUsuario[] SeedData => _SeedData.Values.ToArray();
            }
            [Required()]
            public String Login {get; set;}
            public Boolean IsPKEmpty => !TAFxUsuarioID.HasValue;
            [Display(Name = "Usu√°rios")]
            [Required()]
            public Guid? TAFxUsuarioID {get; set;}
            public TFXCoreDataContext._CORxPessoa CORxPessoa {get; set;}
        }

        #endregion _TAFxUsuario


        protected TFXCoreAccessContext(DbContextOptions pOptions)
          : base(pOptions)
        {
        
        }

        public TFXCoreAccessContext(DbContextOptions<TFXCoreAccessContext> pOptions)
          : base(pOptions)
        {
        
        }

        internal DbSet<_TAFxUsuario> TAFxUsuario{get; set;}
        protected override void OnModelCreating(ModelBuilder pBuilder)
        {
            ConfigureTAFxUsuario(pBuilder);
        }

        private void ConfigureTAFxUsuario(ModelBuilder pBuilder)
        {
            pBuilder.Entity<_TAFxUsuario>(ett =>
            {
                ett.HasKey(e => e.TAFxUsuarioID).HasName("PK_TAFxUsuario");
                
                ett.Property(d => d.TAFxUsuarioID).HasColumnType(GetDBType("Guid"));
                ett.Property(d => d.Login).HasColumnType(GetDBType("String"));
                ett.ToTable("TAFxUsuario");

                ett.HasOne(d => d.CORxPessoa)
                   .WithMany()
                   .HasForeignKey(d => d.TAFxUsuarioID)
                   .OnDelete(DeleteBehavior.Restrict)
                   .HasConstraintName("FK_32B68984BA104469A724F9BD32665523");

                ett.HasIndex(d => d.TAFxUsuarioID).HasDatabaseName("IX_32B68984BA104469A724F9BD32665523");
                ett.HasData(_TAFxUsuario.XDefault.SeedData);
            });
        }
    }
}